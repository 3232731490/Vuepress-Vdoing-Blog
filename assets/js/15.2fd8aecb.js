(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{458:function(s,t,a){"use strict";a.r(t);var n=a(9),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[a("img",{attrs:{src:"https://tse1-mm.cn.bing.net/th/id/R-C.732225a2887ed09f6c37da51e0c9690f?rik=QhxiK7PhpzU1QQ&riu=http%3a%2f%2fwww.desktx.com%2fd%2ffile%2fwallpaper%2fscenery%2f20170217%2f9c2ea4858023fe79162a7941ce75b323.jpg&ehk=4W4dljnr3tMF9rLy4s%2b%2fv3Ve%2fx5WbfQckzcOfHeY1mc%3d&risl=&pid=ImgRaw&r=0",alt:"ç”»å»Šå±•ç¤º"}})]),s._v(" "),a("h1",{attrs:{id:"å°†åšå®¢éƒ¨ç½²åˆ°è‡ªå·±çš„æœåŠ¡å™¨ä¸Š"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å°†åšå®¢éƒ¨ç½²åˆ°è‡ªå·±çš„æœåŠ¡å™¨ä¸Š"}},[s._v("#")]),s._v(" å°†åšå®¢éƒ¨ç½²åˆ°è‡ªå·±çš„æœåŠ¡å™¨ä¸Š")]),s._v(" "),a("blockquote",[a("p",[s._v("éƒ¨ç½²åˆ°GitHubçš„è®¿é—®é€Ÿåº¦å¤ªæ…¢ï¼Œç”šè‡³è¿˜é¢‘ç¹å‡ºç°æ— æ³•è®¿é—®çš„æƒ…å†µï¼Œè¢«é€¼æ— å¥ˆï¼Œåªå¥½éº»çƒ¦ä¸€ç‚¹å°†åšå®¢éƒ¨ç½²åˆ°è‡ªå·±çš„äº‘æœåŠ¡å™¨ï¼Œæ–¹ä¾¿è®¿é—®")]),s._v(" "),a("blockquote",[a("p",[s._v("åœ¨éƒ¨ç½²è¿‡ç¨‹ä¸­åˆé‡åˆ°äº†ä¸€ç³»åˆ—é—®é¢˜ï¼Œäºæ˜¯å†™ä¸‹è¿™ç¯‡åšå®¢è®°å½•ä¸€ä¸‹")])])]),s._v(" "),a("h2",{attrs:{id:"ç¬¬ä¸€æ­¥-åˆ›å»ºè‡ªå·±çš„gitä»“åº“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¬¬ä¸€æ­¥-åˆ›å»ºè‡ªå·±çš„gitä»“åº“"}},[s._v("#")]),s._v(" ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºè‡ªå·±çš„gitä»“åº“")]),s._v(" "),a("blockquote",[a("p",[s._v("ç”±äºè¦éƒ¨ç½²åˆ°è‡ªå·±çš„æœåŠ¡å™¨ï¼Œæ‰€ä»¥åœ¨è‡ªå·±çš„æœåŠ¡å™¨ä¸Šåˆ›å»ºä¸€ä¸ªGitä»“åº“æ˜¯å¾ˆæœ‰å¿…è¦çš„ï¼Œæœ¬åšå®¢é‡‡ç”¨çš„æ˜¯Giteaå·¥å…·åˆ›å»ºGitä»“åº“")])]),s._v(" "),a("blockquote",[a("p",[s._v("ç”±äºéœ€è¦ä½¿ç”¨"),a("code",[s._v("gitea")]),s._v("ï¼Œä¸ºäº†é¿å…ä¸€ç³»åˆ—ç¹ççš„ç¯å¢ƒé…ç½®ï¼Œæ­¤å¤„ä½¿ç”¨"),a("code",[s._v("docker")]),s._v("ä»¥åŠ"),a("code",[s._v("docke-compose")]),s._v("æ¥æ„å»º"),a("code",[s._v("Gitea")]),s._v("çš„ç¯å¢ƒ")])]),s._v(" "),a("ol",[a("li",[a("p",[s._v("å®‰è£…"),a("code",[s._v("docker")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("é¦–å…ˆè¿›å…¥"),a("code",[s._v("docker")]),s._v("å®˜æ–¹æ–‡æ¡£ç«™(ç”±äºæœ¬åšå®¢æ‰€ç”¨æœåŠ¡å™¨ä¸º"),a("code",[s._v("Centos")]),s._v("ï¼Œæ‰€ä»¥é€‰æ‹©"),a("code",[s._v("Centos")]),s._v("ç‰ˆæœ¬)ï¼Œ[docker]("),a("a",{attrs:{href:"https://docs.docker.com/engine/install/centos/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Install Docker Engine on CentOS | Docker Documentation"),a("OutboundLink")],1),s._v(")")])]),s._v(" "),a("li",[a("p",[s._v("è‹¥æ˜¯ç¬¬ä¸€æ¬¡å®‰è£…åˆ™ä¾æ¬¡æ‰§è¡Œå‘½ä»¤")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å®‰è£…yum-utilsåŒ…(å®ƒæä¾›yum-config-managerå®ç”¨ç¨‹åº)å¹¶è®¾ç½®ç¨³å®šå­˜å‚¨åº“ã€‚")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y yum-utils\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum-config-manager "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    --add-repo "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    https://download.docker.com/linux/centos/docker-ce.repo\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å®‰è£…Docker Engineå’Œcontainerdçš„æœ€æ–°ç‰ˆæœ¬")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" docker-ce docker-ce-cli containerd.io\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("è‹¥ä¹‹å‰å®‰è£…æœ‰è€ç‰ˆæœ¬çš„"),a("code",[s._v("docker")]),s._v("ï¼Œåˆ™éœ€è¦å…ˆæ‰§è¡Œä¸‹è¿°å‘½ä»¤")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum remove docker "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                  docker-client "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                  docker-client-latest "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                  docker-common "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                  docker-latest "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                  docker-latest-logrotate "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                  docker-logrotate "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                  docker-engine\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("è¿›è¡Œåˆ°æ­¤å¤„å°±å®‰è£…å®Œæˆ")])]),s._v(" "),a("li",[a("p",[s._v("è®¾ç½®å¼€æœºè‡ªå¯")]),s._v(" "),a("p",[a("code",[s._v("systemctl enable docker.service")])])]),s._v(" "),a("li",[a("p",[s._v("å¯åŠ¨"),a("code",[s._v("docker")])]),s._v(" "),a("p",[a("code",[s._v("systemctl start docker")])])])])]),s._v(" "),a("li",[a("p",[s._v("å®‰è£…"),a("code",[s._v("docker-compose")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("è¿›å…¥[å®‰è£…é¡µé¢]("),a("a",{attrs:{href:"https://docs.docker.com/compose/install/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Install Docker Compose | Docker Documentation"),a("OutboundLink")],1),s._v("),é€‰æ‹©ä½ çš„æ“ä½œç³»ç»Ÿç‰ˆæœ¬ï¼Œæ­¤å¤„æˆ‘é€‰æ‹©"),a("code",[s._v("linux")])])]),s._v(" "),a("li",[a("p",[s._v("ä¾æ¬¡æ‰§è¡Œä¸‹åˆ—å‘½ä»¤")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ç¨³å®šç‰ˆæœ¬docker-compose")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -L "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://github.com/docker/compose/releases/download/1.29.2/docker-compose-'),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("uname")]),s._v(" -s"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("-"),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("uname")]),s._v(" -m"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v('"')]),s._v(" -o /usr/local/bin/docker-compose\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä¸ºdocker-composeæ·»åŠ æƒé™")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x /usr/local/bin/docker-compose\n \n "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ·»åŠ é“¾æ¥")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" -s /usr/local/bin/docker-compose /usr/bin/docker-compose\n \n "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# éªŒè¯å®‰è£…")]),s._v("\n docker-compose --version\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("è‡³æ­¤"),a("code",[s._v("docker-compose")]),s._v("å®‰è£…å®Œæˆ")])]),s._v(" "),a("li",[a("p",[s._v("åå°å¯åŠ¨"),a("code",[s._v("docker-compose")])]),s._v(" "),a("p",[a("code",[s._v("docker-compose up -d server")])]),s._v(" "),a("p",[s._v("éªŒè¯æ˜¯å¦å¯åŠ¨")]),s._v(" "),a("p",[a("code",[s._v("docker-compose ps")])])])])]),s._v(" "),a("li",[a("p",[s._v("å®‰è£…"),a("code",[s._v("Gitea")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("[å®˜ç½‘]("),a("a",{attrs:{href:"https://docs.gitea.io/en-us/install-with-docker/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Installation with Docker - Docs (gitea.io)"),a("OutboundLink")],1),s._v(")")])]),s._v(" "),a("li",[a("p",[s._v("åœ¨"),a("code",[s._v("/home")]),s._v("ç›®å½•ä¸‹åˆ›å»ºç›®å½•"),a("code",[s._v("gitea")])])]),s._v(" "),a("li",[a("p",[s._v("æ–°å»ºé…ç½®æ–‡ä»¶"),a("code",[s._v("docker-compose.yml")])]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("networks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("gitea")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("external")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("false")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("services")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("server")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" gitea/gitea"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("latest\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("container_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" gitea\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("environment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" USER_UID=1000\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" USER_GID=1000\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" DB_TYPE=mysql\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" DB_HOST=db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" DB_NAME=gitea\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" DB_USER=gitea\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" DB_PASSWD=gitea\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("restart")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" always\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("networks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" gitea\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("volumes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" ./data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("/data\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" /etc/timezone"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("/etc/timezone"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("ro\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" /etc/localtime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("/etc/localtime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("ro\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ports")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3000:3000"')]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"222:222"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("depends_on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" db\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("db")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" mysql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.7")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("restart")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" always\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("environment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" MYSQL_ROOT_PASSWORD=gitea\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" MYSQL_USER=gitea\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" MYSQL_PASSWORD=gitea\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" MYSQL_DATABASE=gitea\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("networks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" gitea\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("volumes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" ./mysql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("/var/lib/mysql\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("åœ¨å½“å‰ç›®å½•ä¸‹å¯åŠ¨"),a("code",[s._v("docker-compose")])]),s._v(" "),a("p",[a("code",[s._v("docker-compose up server")])]),s._v(" "),a("p",[s._v("ä¼šæŒ‰ç…§ä½ çš„é…ç½®æ–‡ä»¶ä¸‹è½½ç¯å¢ƒä¾èµ–")])]),s._v(" "),a("li",[a("p",[s._v("å¼€å¯é˜²ç«å¢™ç«¯å£3000ï¼Œç”±äºå¤–ç½‘è®¿é—®Giteaéœ€è¦é€šè¿‡3000ç«¯å£ï¼Œæ‰€ä»¥å¼€å¯æ­¤å¤„é˜²ç«å¢™ç«¯å£3000éœ€è¦æ‰“å¼€ï¼Œå¹¶ä¸”æœåŠ¡å™¨ä¸­ä¹Ÿè¦æ·»åŠ å¯¹åº”è§„åˆ™")]),s._v(" "),a("p",[a("code",[s._v("firewall-cmd --permanent --zone=public --add-port=3000/tcp")])])]),s._v(" "),a("li",[a("p",[s._v("å¤–ç½‘è®¿é—®"),a("code",[s._v("http://{ä¸»æœºip}:3000")])]),s._v(" "),a("p",[s._v("ç½‘ç«™ä¼šè¦æ±‚ä½ é…ç½®ä¸€äº›ä¿¡æ¯ï¼Œé…ç½®SSHæœåŠ¡åŸŸåä¸ºä½ çš„ä¸»æœº"),a("code",[s._v("ip")]),s._v("ï¼Œ"),a("code",[s._v("Gitea")]),s._v("åŸºæœ¬"),a("code",[s._v("URL")]),s._v("ä¸º"),a("code",[s._v("http://{ä¸»æœºip}:3000")])])]),s._v(" "),a("li",[a("p",[s._v("è‡³æ­¤å°±å®Œæˆå®‰è£…ï¼Œä¹‹åå¯ä»¥æ³¨å†Œè´¦å·ï¼Œç™»å½•å°±å¯ä»¥å¼€å§‹å»ºç«‹ä»“åº“æ­£å¸¸ä½¿ç”¨äº†")])])])])]),s._v(" "),a("blockquote",[a("p",[s._v("è‹¥ä½¿ç”¨httpä¼ è¾“æ¯æ¬¡æäº¤éƒ½éœ€è¦è¾“å…¥è´¦å·å¯†ç ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥é…ç½®ä½¿ç”¨SSHä¼ è¾“")])]),s._v(" "),a("h2",{attrs:{id:"ç¬¬äºŒæ­¥-é…ç½®sshå¯†é’¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¬¬äºŒæ­¥-é…ç½®sshå¯†é’¥"}},[s._v("#")]),s._v(" ç¬¬äºŒæ­¥ï¼š é…ç½®SSHå¯†é’¥")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("æŸ¥çœ‹è‡ªå·±ç”µè„‘çš„SSHå¯†é’¥ï¼Œè·¯å¾„ä¸€èˆ¬ä¸º"),a("code",[s._v("â€ªC:\\Users\\ç”¨æˆ·\\.ssh\\id_rsa.pub")])])]),s._v(" "),a("li",[a("p",[s._v("å¤åˆ¶å¯†é’¥åˆ° "),a("code",[s._v("Gitea")]),s._v("ä¸­")]),s._v(" "),a("p",[a("code",[s._v("ç‚¹å‡»å¤´åƒ=>è®¾ç½®=>SSH/GPGå¯†é’¥=>å¢åŠ å¯†é’¥")])]),s._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[s._v("é…ç½®æˆåŠŸåå³å¯ä½¿ç”¨SSHè¿›è¡Œä»“åº“çš„ä¸€ç³»åˆ—æ“ä½œäº†")])])])]),s._v(" "),a("h2",{attrs:{id:"ç¬¬ä¸‰æ­¥-å°†åšå®¢ä»£ç å‘å¸ƒåˆ°ä¸ªäººä»“åº“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¬¬ä¸‰æ­¥-å°†åšå®¢ä»£ç å‘å¸ƒåˆ°ä¸ªäººä»“åº“"}},[s._v("#")]),s._v(" ç¬¬ä¸‰æ­¥ï¼š å°†åšå®¢ä»£ç å‘å¸ƒåˆ°ä¸ªäººä»“åº“")]),s._v(" "),a("ol",[a("li",[s._v("é¦–å…ˆåˆ›å»ºä¸€ä¸ªä»“åº“ç”¨äºå­˜å‚¨åšå®¢çš„ç›¸å…³ä»£ç ")])]),s._v(" "),a("ul",[a("li",[s._v("ç‚¹å‡»åˆ›å»ºæ–°ä»“åº“")]),s._v(" "),a("li",[s._v("èµ·å")]),s._v(" "),a("li",[s._v("åˆ›å»ºå®Œæ¯•ï¼Œå¾ˆç®€å•å§")])]),s._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[s._v("é…ç½®åšå®¢éƒ¨ç½²è„šæœ¬æ–‡ä»¶")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/usr/bin/env sh")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç¡®ä¿è„šæœ¬æŠ›å‡ºé‡åˆ°çš„é”™è¯¯")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" -e\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç”Ÿæˆé™æ€æ–‡ä»¶")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run docs:build\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è¿›å…¥ç”Ÿæˆçš„æ–‡ä»¶å¤¹")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" docs/.vuepress/dist\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" init\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" -A\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit -m "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'deploy'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ ¼å¼ä¸º git push -f ssh://git@{ä¸»æœºip}:ç«¯å£/{ä»“åº“åœ°å€} åˆ†æ”¯å")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sshåé¢çš„éƒ¨åˆ†å¯ä»¥å»ºç«‹å¥½ä»“åº“åç›´æ¥å¤åˆ¶è¿‡æ¥å³å¯")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push -f ssh://git@"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("ip"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(":222/root/Vuepress-Vdoing-Blog.git master\n \n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" -\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("éƒ¨ç½²")])]),s._v(" "),a("p",[a("code",[s._v("yarn run deploy\tæˆ–è€…\t npm run deploy")])]),s._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[a("p",[s._v("ç™»å½•"),a("code",[s._v("Gitea")]),s._v("æŸ¥çœ‹æ˜¯å¦ä»£ç ä¸Šä¼ æˆåŠŸ")])]),s._v(" "),a("li",[a("p",[s._v("è¿›å…¥æœåŠ¡å™¨è¿›è¡Œï¼Œæ­¤å¤„ä½¿ç”¨"),a("code",[s._v("Xshell")])])])]),s._v(" "),a("h2",{attrs:{id:"ç¬¬å››æ­¥-é…ç½®nginxä»¥åŠåŒæ­¥åšå®¢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¬¬å››æ­¥-é…ç½®nginxä»¥åŠåŒæ­¥åšå®¢"}},[s._v("#")]),s._v(" ç¬¬å››æ­¥ï¼š é…ç½®"),a("code",[s._v("nginx")]),s._v("ä»¥åŠåŒæ­¥åšå®¢")]),s._v(" "),a("blockquote",[a("p",[s._v("ç»ˆäºåˆ°äº†æœ€å…³é”®çš„ä¸€æ­¥äº†ï¼Œè¿™ä¹Ÿæ˜¯æœ€ç¹ççš„ä¸€æ­¥ï¼Œè®©æˆ‘ç¢°äº†ä¸å°‘ç’§ï¼Œä»¥ä¸‹æ˜¯é…ç½®è¿‡ç¨‹")])]),s._v(" "),a("ol",[a("li",[a("p",[s._v("ä¸‹è½½å®‰è£…"),a("code",[s._v("nginx")])]),s._v(" "),a("p",[s._v("è¿™ä¸ªç›´æ¥ç™¾åº¦å³å¯ï¼Œæ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«éœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼Œæ­¤å¤„æ”¾ä¸Šä¸€ä¸ªä¸ªäººæ„Ÿè§‰æ¯”è¾ƒè¯¦ç»†çš„æ•™ç¨‹ä»¥ä¾›å‚è€ƒ[æ•™ç¨‹]("),a("a",{attrs:{href:"https://www.jianshu.com/p/9f2c162ac77c",target:"_blank",rel:"noopener noreferrer"}},[s._v("Linuxä¸‹å®‰è£…Nginx - ç®€ä¹¦ (jianshu.com)"),a("OutboundLink")],1),s._v(")")])]),s._v(" "),a("li",[a("p",[s._v("é…ç½®"),a("code",[s._v("nginx.conf")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("server "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        listen       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç›‘å¬ç«¯å£")]),s._v("\n        server_name  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("106.14")]),s._v(".196.77"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¦‚æœæœ‰åŸŸåæ­¤å¤„å¯å¡«åŸŸåï¼Œæ²¡æœ‰ç›´æ¥å¡«ä¸»æœºipå³å¯ï¼Œæœ‰åŸŸåä¹‹åè®©åŸŸåè§£æåˆ°æ­¤ipä¹Ÿå¯ä»¥")]),s._v("\n\n        charset utf-8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        location / "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è·¯ç”±è·¯å¾„ä¸º / ")]),s._v("\n            root   /home/project/blog"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç½‘ç«™ç›®å½•")]),s._v("\n            index  index.html index.htm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            try_files "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$uri")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$uri")]),s._v("/ /index.html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n        error_page   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("500")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("502")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("503")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("504")]),s._v("  /50x.html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        location "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /50x.html "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            root   html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("å°†ä»“åº“å†…çš„æ–‡ä»¶åŒæ­¥åˆ°"),a("code",[s._v("nignx")]),s._v("é…ç½®æ–‡ä»¶ä¸­çš„rootç›®å½•")])])]),s._v(" "),a("blockquote",[a("p",[s._v("æ­¤å¤„æœ‰ç‚¹å°å‘ï¼Œä¸çŸ¥é“æ€ä¹ˆäº†ï¼Œæ­¤å¤„é…ç½®äº†gitçš„hookä¹Ÿæ— æ³•è‡ªåŠ¨å¸®æˆ‘åŒæ­¥ï¼Œäºæ˜¯æˆ‘ç›´æ¥é…ç½®äº†ä¸¤ä¸ªå®šæ—¶ä»»åŠ¡ï¼Œä¼šåœ¨æ¯å¤©0ç‚¹å’Œ12ç‚¹å¸®æˆ‘åŒæ­¥ï¼Œä¸€å¤©æ›´æ–°ä¸¤æ¬¡åº”è¯¥å¤Ÿäº†å§ğŸš“")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("è¿›å…¥ä½ æ‰€å®‰è£…"),a("code",[s._v("Gitea")]),s._v("çš„ç›®å½•ï¼Œè¿›å…¥"),a("code",[s._v("data/git/repositories")]),s._v("ç›®å½•ï¼Œç„¶åè¿›å…¥åˆ°ä½ æ‰€åˆ›å»ºçš„å­˜å‚¨ä»£ç ä»“åº“çš„ç›®å½•ä¸­ï¼Œå†è¿›å…¥"),a("code",[s._v("hooks")]),s._v(",æ‰§è¡Œä»¥ä¸‹å‘½ä»¤")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" post-update.sample post-update\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("777")]),s._v(" post-update\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" post-update\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("ç„¶åå°†"),a("code",[s._v("post-update")]),s._v("æ–‡ä»¶ä¸­çš„ä»£ç æ›¿æ¢ä¸ºä»¥ä¸‹ä»£ç ")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/sh")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# An example hook script to prepare a packed repository for use over")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# dumb transports.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# To enable this hook, rename this file to "post-update".')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# exec git update-server-info")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("GIT_REPO")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/home/gitea/data/git/repositories/root/vuepress-vdoing-blog.git\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PUBLIC_WWW")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/home/project/blog\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("TMP_GIT_CLONE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/home/tmp/blog\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${TMP_GIT_CLONE}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$GIT_REPO")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$TMP_GIT_CLONE")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PUBLIC_WWW}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" -rf "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${TMP_GIT_CLONE}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PUBLIC_WWW}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("blockquote",[a("p",[s._v("ä¸Šè¿°ä»£ç çš„æ„æ€å°±æ˜¯ï¼Œå…ˆå°†ä»“åº“ä¸­çš„ä»£ç ä¿å­˜åˆ°ä¸€ä¸ªä¸´æ—¶å­˜å‚¨åŒº"),a("code",[s._v("TMP_GIT_CLONE")]),s._v(",å†å°†è¿™ä¸ªä¸´æ—¶å­˜å‚¨åŒºä¸­çš„ä»£ç å¤åˆ¶è¿›ç½‘ç«™ä»“åº“"),a("code",[s._v("PUBLIC_WWW")]),s._v("ï¼ˆå³"),a("code",[s._v("nginx.conf")]),s._v("æ–‡ä»¶ä¸­é…ç½®çš„rootå±æ€§ï¼‰,æ­¤å¤„ä¿®æ”¹çš„æ˜¯post-updateï¼ŒæŒ‰ç†æ¥è¯´å½“æˆ‘æäº¤äº†pushæ“ä½œåä¼šæ‰§è¡Œè¿™ä¸ªè„šæœ¬ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰ï¼Œæ‰€ä»¥æˆ‘è®¾ç½®äº†ä¸¤ä¸ªå®šæ—¶ä»»åŠ¡ï¼Œå¦‚æœä½ éƒ¨ç½²æ—¶ä¹Ÿé‡åˆ°è¿™ä¸ªæƒ…å†µå¯ä»¥è€ƒè™‘æˆ‘è¿™ä¸ªå®šæ—¶ä»»åŠ¡")])]),s._v(" "),a("blockquote",[a("p",[s._v("è¾“å…¥crontab -eåï¼Œé»è´´ä»¥ä¸‹ä»£ç ")])]),s._v(" "),a("p",[a("code",[s._v("0 12 * * * sh /home/gitea/data/git/repositories/root/vuepress-vdoing-blog.git/hooks/post-update")]),s._v(" "),a("code",[s._v("0 0 * * * sh /home/gitea/data/git/repositories/root/vuepress-vdoing-blog.git/hooks/post-update")])]),s._v(" "),a("blockquote",[a("p",[s._v("Tip: æ³¨æ„ï¼š ä½ çš„æ–‡ä»¶ç›®å½•å¯èƒ½è·Ÿæˆ‘çš„ä¸ä¸€æ ·")])])])]),s._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[s._v("æ‰§è¡Œå®Œè¿™ä¸ªæ“ä½œåï¼Œä½ çš„ç½‘ç«™ç›®å½•ä¸‹å°±ä¼šå‡ºç°ä½ çš„åšå®¢ç›®å½•ï¼Œåœ¨å¤–ç½‘ä¸­è®¿é—®ä½ çš„ç½‘ç«™å³å¯")])]),s._v(" "),a("h2",{attrs:{id:"ç¬¬äº”æ­¥-å®Œç»“æ’’èŠ±-æ€»ç»“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¬¬äº”æ­¥-å®Œç»“æ’’èŠ±-æ€»ç»“"}},[s._v("#")]),s._v(" ç¬¬äº”æ­¥ï¼š å®Œç»“æ’’èŠ±ï¼Œæ€»ç»“")]),s._v(" "),a("blockquote",[a("p",[s._v("ç”±äºç§ç§åŸå› ï¼Œæœ¬æ¬¡åšå®¢çš„éƒ¨ç½²å¯è°“æ˜¯ååˆ†è‰°éš¾ï¼Œä½†å¥½åœ¨æœ€ç»ˆè¿˜æ˜¯æˆåŠŸçš„éƒ¨ç½²åˆ°äº†è‡ªå·±çš„æœåŠ¡å™¨ä¸Šï¼Œä¹Ÿå­¦ä¹ åˆ°äº†å¾ˆå¤šä¸œè¥¿ï¼Œæ¯”å¦‚ç¬¬ä¸€æ¬¡ä½¿ç”¨"),a("code",[s._v("docker")]),s._v("ç­‰")])]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("é¸¡æ±¤")]),s._v(" "),a("p",[s._v("â€‹\tâ€œæ²¡æœ‰æ¿€æµå°±ç§°ä¸ä¸Šå‹‡è¿›ï¼Œæ²¡æœ‰å±±å³°åˆ™è°ˆä¸ä¸Šæ”€ç™»â€")])])])}),[],!1,null,null,null);t.default=e.exports}}]);