---
title: ã€166ã€‘åˆ†æ•°åˆ°å°æ•°
date: 2021-10-03 08:13:36
permalink: /pages/158e76/
categories:
  - LeetCodeåˆ·é¢˜æ—¥è®°
  - ç«™èµ·æ¥äº†
tags:
  - LeetCode
  - ä¸­ç­‰
---

## é¢˜ç›®é“¾æ¥ğŸ›’
[166ï¼šåˆ†æ•°åˆ°å°æ•°](https://leetcode-cn.com/problems/fraction-to-recurring-decimal/)

## é¢˜ç›®æè¿°ğŸŸ

> ç»™å®šä¸¤ä¸ªæ•´æ•°ï¼Œåˆ†åˆ«è¡¨ç¤ºåˆ†æ•°çš„åˆ†å­ numerator å’Œåˆ†æ¯ denominatorï¼Œä»¥ å­—ç¬¦ä¸²å½¢å¼è¿”å›å°æ•° ã€‚<br/>
>
> å¦‚æœå°æ•°éƒ¨åˆ†ä¸ºå¾ªç¯å°æ•°ï¼Œåˆ™å°†å¾ªç¯çš„éƒ¨åˆ†æ‹¬åœ¨æ‹¬å·å†…ã€‚<br/>
>
> å¦‚æœå­˜åœ¨å¤šä¸ªç­”æ¡ˆï¼Œåªéœ€è¿”å› ä»»æ„ä¸€ä¸ª ã€‚<br/>
>
> å¯¹äºæ‰€æœ‰ç»™å®šçš„è¾“å…¥ï¼Œä¿è¯ ç­”æ¡ˆå­—ç¬¦ä¸²çš„é•¿åº¦å°äº 10^4^ ã€‚<br/>
>
>  <br/>
>
> ç¤ºä¾‹ 1ï¼š <br/>
>
> è¾“å…¥ï¼šnumerator = 1, denominator = 2 <br/>
> è¾“å‡ºï¼š"0.5" <br/> <br/>
> ç¤ºä¾‹ 2ï¼š <br/>
>
> è¾“å…¥ï¼šnumerator = 2, denominator = 1 <br/>
> è¾“å‡ºï¼š"2" <br/> <br/>
> ç¤ºä¾‹ 3ï¼š <br/>
>
> è¾“å…¥ï¼šnumerator = 2, denominator = 3 <br/>
> è¾“å‡ºï¼š"0.(6)" <br/> <br/>
> ç¤ºä¾‹ 4ï¼š <br/>
>
> è¾“å…¥ï¼šnumerator = 4, denominator = 333 <br/>
> è¾“å‡ºï¼š"0.(012)" <br/> <br/>
> ç¤ºä¾‹ 5ï¼š <br/>
>
> è¾“å…¥ï¼šnumerator = 1, denominator = 5 <br/>
> è¾“å‡ºï¼š"0.2" <br/> <br/>
>
>
> æç¤ºï¼š <br/>
>
> 2^31^ <= numerator, denominator <= 2^31^ - 1 <br/>
> denominator != 0 <br/>



## è§£æ³•ï¼šå°å­¦æ•°å­¦ğŸ¥¼

> åˆ†å­é™¤åˆ†æ¯ï¼Œä¸å¤Ÿé™¤å°±è¡¥0ï¼Œå¦‚æœå‘ç°å½“å‰åˆ†å­å·²ç»å‡ºç°è¿‡é‚£å°±ç›´æ¥ç»“æŸï¼Œæ·»åŠ å¾ªç¯æ ‡è®°

```cpp
class Solution {
public:
using ll = long long;
    string fractionToDecimal(int numerator, int denominator) {
        unordered_map<int,int> record;
        vector<ll> ans;
        int looppos=-1;
        function<void(ll,ll)> dfs =[&](ll n,ll d){
            if(n%d==0){
                ans.emplace_back(n/d);
                return;
            }else if(record.find(n)!=record.end()&&record[n]>0){
                looppos=record[n];
                return;
            }
            record[n]=ans.size();
            ans.emplace_back(n/d);
            dfs((n%d)*10,d);
        };
        string res = "";
        int64_t t1 = numerator,t2 = denominator;
        
        if(t1<0&&t2>0){
            res="-";
            t1=-t1;
        }else if(t1>0&&t2<0){
           res="-";
           t2=-t2; 
        }
        dfs(t1,t2);
        res+=to_string(ans[0]);
        for(int i=1;i<ans.size();i++){
            if(i==1) {res+=".";}
            if(looppos==i){res+="(";}
            res+=(ans[i]+'0');
        }
        if(looppos!=-1){
            res+=")";
        }
        return res;
    }
};
```

**ä¸€é¡¿æ“ä½œæ¢¦å¦‚è™ï¼Œä¸€çœ‹è¶…è¿‡5%**

> æ‰§è¡Œç”¨æ—¶ï¼š**4 ms**, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†**40.50%**çš„ç”¨æˆ·<br/>
>
> å†…å­˜æ¶ˆè€—ï¼š**6.7 MB**, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†**5.03%**çš„ç”¨æˆ·

## æœ¬é¢˜ç‚¹è¯„ğŸ‰

> ç»†èŠ‚å¤ªå¤šï¼Œå¾ˆå®¹æ˜“çˆ†èŒƒå›´ï¼Œæœ€åç›´æ¥æŠŠè¾“å…¥å˜æˆlong longæ¥åšäº†