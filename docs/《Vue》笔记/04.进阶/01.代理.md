---
title: 代理
date: 2021-09-27 06:54:47
permalink: /pages/8c8cd7/
categories:
  - 《Vue》笔记
  - 进阶
tags:
  - Vue
  - 笔记
author:
  name: nilu
  link: https://github.com/3232731490
---

## 脚手架配置代理

### 1. 方法一

    在vue.config.js中作如下配置：

```javascript
    devServer:{
        proxy:'目标服务器url'
    }
```

说明:

1. 优点： 配置简单，请求资源直接发给前端即可
2. 缺点： 无法配置多个代理，不能灵活的控制请求是否走代理
3. 工作方式：若按照上述配置代理，当请求了不存在的资源时，那么该请求会转发给服务器(优先匹配前端资源)

### 2. 方法二

    在vue.consig.js做如下配置：

```javascript
module.exports = {
  devServer: {
    proxy: {
      '/api': { // 匹配所有以 '/api' 开头的请求路径
        target: '<url>',    // 代理目标的基础路径
        pathRewrite:{'^/api':''},  // 将前缀去掉
        ws: true,   // 用于支持websocket 
        changeOrigin: true  // 设置为true时，服务器收到的请求头中的host为目标服务器的host
      },
      '/foo': { // 匹配所有以 '/foo' 开头的请求路径
        target: '<other_url>'   // 代理目标的基础路径
      }
    }
  }
}
```

说明：

1. 优点： 可以设置多个代理，且可以灵活的控制请求是否走代理
2. 缺点： 配置略微繁琐，请求资源时请求头必须加前缀