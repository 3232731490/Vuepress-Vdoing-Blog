---
title: Vue数据代理
date: 2021-09-27 06:28:03
permalink: /pages/5d3b22/
categories:
  - 《Vue》笔记
  - 基础
tags:
  - Vue
author:
  name: nilu
  link: https://github.com/3232731490
---

## 数据代理

### 1. Object.defineProperty

```javascript
 		// 通过这种方法添加的属性默认不可枚举，不可遍历
        Object.defineProperty(person,'sex',{
            // value:'男',
            // enumerable:true, // 可以通过这个属性来控制本属性是否可被枚举
            // Writable:true,   //控制属性是否可修改
            // configurable:true//控制属性是否可被删除

            //当有人读取person的sex属性时，get函数就会被调用，这个函数返回值就是sex属性
            get : function(){
                console.log(111)
                return '男'
            },
            //当有人修改person的sex属性时，set函数就会被调用，这个函数得到的值就是修改的值
            set(value){
                console.log(value)
            }
        })

```

### 2. Vue中的数据代理

```javascript
	<!--
        基本原理：
            通过Object.defineProperty()将data对象中所有属性添加到vm上，
            为每一个添加到vm上的属性，都指定一个getter/setter
            在getter、setter内部去操作data中的属性
   	-->
	<div id="root">
        <h2>Name : {{name}}</h2>
        <h2>Location： {{Location}}</h2>
    </div>

    <script type='text/javascript'>
        const vm = new Vue({
            el:'#root',
            data:{
                name:"SIT",
                Location:"上海"
            }
        })
    </script>
```